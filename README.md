
# 每日寄语 (Daily Messages)

一个简单的Web应用程序，允许两位用户互相发送每日寄语/评分，并在共享日历上查看评分历史。此项目使用原生PHP、HTML、Tailwind CSS (通过CDN引入) 和 JavaScript 构建。所有数据存储在一个JSON文件中。

## ✨ 主要功能

* **双用户系统**: 支持两位预设用户（默认为“用户1”和“用户2”）。
* **启动时用户选择**: 应用首次加载时，提示用户选择自己的身份。
* **可选密码保护**: 每位用户可以设置自己的登录密码（**注意：当前为明文存储，仅供演示！**）。
* **每日评价提交**:
    * 可以为对方当天的表现打分（1-10分）。
    * 可以附带文字评价内容。
    * 每位用户每天只能提交一次评价。
* **查看收到的评价**:
    * 如果对方当天提交了评价，可以点击查看。
    * 查看操作有确认提示，标记为已读后按钮状态会改变。
* **共享评分日历**:
    * 日历上会显示两位用户互相给出的评分。
    * 日历单元格的背景色会根据**当前登录用户**当天给出的评分进行高亮。
    * 两位用户的评分都会以文字形式（例如：“用1: ★8”，“用2: ★7”）展示在单元格中。
* **用户设置**: 允许当前登录用户设置、更改或移除自己的登录密码。
* **用户切换**: 方便地在两位用户之间切换登录状态。
* **响应式设计**: 使用 Tailwind CSS 实现，适应不同设备屏幕。
* **数据持久化**: 所有数据通过服务器端的 `data.json` 文件进行存储和读取。

## 🛠️ 技术栈

* **后端**: PHP (推荐 PHP 7.4 或更高版本)
* **前端**: HTML5, CSS3, JavaScript (ES6+)
* **样式**: Tailwind CSS (通过 CDN 引入), Google Fonts (Noto Sans SC 通过 CDN 引入)
* **数据存储**: JSON 文件 (`data.json`)

## 🚀 安装与启动

1.  **环境准备**:
    * 确保你有一个支持 PHP 的 Web 服务器环境，例如 XAMPP, MAMP, WAMP, Nginx + PHP-FPM, 或 Apache + mod_php。

2.  **获取代码**:
    * 通过 Git 克隆: `git clone https://github.com/zhuchenyu2008/Love-Score-and-Feedback.git`
    * 或者下载 ZIP 压缩包并解压。

3.  **部署文件**:
    * 将项目所有文件（主要是 `index.php` 和 `data.json`）放置到你的 Web 服务器的文档根目录（如 `htdocs`, `www`）或其子目录中。

4.  **文件结构**:
    ```
    /your-project-folder/
    |-- index.php         (主应用文件：包含PHP逻辑、HTML模板和JavaScript)
    |-- data.json         (数据存储文件)
    ```

5.  **文件权限**:
    * **非常重要**: 确保 Web 服务器对 `data.json` 文件拥有**写入权限**。
    * 如果 `data.json` 文件不存在，`index.php` 脚本会尝试在首次加载时自动创建它（前提是 `index.php` 所在的目录对Web服务器可写），并填充默认的“用户1”和“用户2”数据。

6.  **访问应用**:
    * 在浏览器中打开你的项目URL，例如：`http://localhost/your-project-folder/` (如果直接放在根目录，则可能是 `http://localhost/`)。

## 📖 使用说明

1.  **用户选择**: 首次访问或未登录状态下，应用会提示你选择操作用户（“我是 用户1” 或 “我是 用户2”）。
2.  **登录**:
    * 如果所选用户已设置密码，将弹出登录框要求输入密码。
    * 如果所选用户未设置密码，将直接登录。
3.  **提交评价**:
    * 在“给Ta的今日寄语”板块，选择1-10的评分，并填写评价内容。
    * 点击“提交今日评价”按钮。每天只能为对方提交一次。
4.  **查看评价**:
    * 在“查看来自Ta的今日寄语”板块，如果对方今天已为你提交评价，按钮将可点击。
    * 点击按钮并确认后，即可查看评分和评价内容。评价标记为已读后，按钮文本会更新。
5.  **用户设置**:
    * 在此板块，你可以为当前登录的用户设置、更改或移除密码（将密码设置为空并保存即可移除）。
6.  **互评日历**:
    * 日历会清晰展示双方历史每日的互评分数。
    * 单元格背景色会根据你（当前登录用户）给出的分数变化。
    * 鼠标悬停在有评分的日期上，可以看到双方评价的简略文本。
7.  **切换用户**:
    * 点击页面顶部的“切换用户”按钮，当前用户将登出，并开始另一用户的登录流程（如需密码则会提示）。

## 🗄️ 数据存储

* 本应用的所有数据，包括用户信息、密码（**明文存储，见安全提示！**）、提交的评价以及日历状态，都保存在项目根目录下的 `data.json` 文件中。
* 默认的用户名为“用户1”和“用户2”。你可以通过手动编辑 `data.json` 文件来修改它们（请谨慎操作，确保JSON结构正确）。

## ⚠️ 重要安全提示

**密码存储**: 此项目中的密码以 **明文形式** 存储在 `data.json` 文件中。这**极不安全**，仅为演示和简化目的而设计。**切勿在生产环境或任何涉及真实用户数据的场景中使用此密码存储方式。**

在实际应用中，密码请**务必**使用强哈希算法（例如 PHP 的 `password_hash()` 函数加密，使用 `password_verify()` 函数验证）进行安全存储。


